\section{Hash Functions for sampling}

\paragraph{Exercise 1}
given $h: U \rightarrow [0,1)$, and $h_m: U \rightarrow [m]$, thus $h = \frac{h_m}{m}$

\paragraph*{(a)}
\begin{align*}
Pr \left[ \frac{h_m(x)}{m} < p\right] < 1.01 \cdot p, \qquad p \geq \frac{100}{m}
\end{align*}
We rewrite $p = k \cdot \frac{100}{m}, k \geq 1$
\begin{align*}
Pr \left[ \frac{h_m(x)}{m} < k \cdot \frac{100}{m} \right] &< 1.01 \cdot k \cdot \frac{100}{m}, &k \geq 1 \\
Pr \left[ h_m(x) < 100 \cdot k \right] &< \frac{101 \cdot k}{m}, &k \geq 1 \\
\left[ \sum_{i=1}^{100 k} \frac{1}{m} + \sum_{i=100k}^{m} \frac{0}{m} \right] &< \frac{101 \cdot k}{m}, &k \geq 1 \\
\frac{100 \cdot k}{m} &< \frac{101 \cdot k}{m}, &k \geq 1
\end{align*}

\paragraph*{(b)} given $m \geq 100 |A|^2$, assuming that $h$ is strongly universal.
\begin{align*}
&Pr \left[ \frac{h_m(x)}{m} = \frac{h_m(y)}{m} \right] \\
=& Pr \left[ h_m(x) = h_m(y) \right] \\
=& \sum_{i=1}^m \frac{1}{m} \frac{1}{m} = \frac{m}{m^2} = \frac{1}{m} \\
\Rightarrow& \MO \left( \frac{1}{100 |A|^2} \right)
\end{align*}
This means that the probability of a collision is a small fraction, inverse proportional to the squared size of the set A.


